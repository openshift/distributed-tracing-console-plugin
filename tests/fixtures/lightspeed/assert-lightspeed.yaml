apiVersion: apps/v1
kind: Deployment
metadata:
  name: lightspeed-postgres-server
  namespace: openshift-lightspeed
status:
  availableReplicas: 1
  readyReplicas: 1
  replicas: 1

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: lightspeed-operator-controller-manager
  namespace: openshift-lightspeed
status:
  availableReplicas: 1
  readyReplicas: 1
  replicas: 1

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: lightspeed-console-plugin
  namespace: openshift-lightspeed
status:
  availableReplicas: 1
  readyReplicas: 1
  replicas: 1

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: lightspeed-app-server
  namespace: openshift-lightspeed
status:
  availableReplicas: 1
  readyReplicas: 1
  replicas: 1

# Commented out due to lightspeed operator bug:
# The operator does not automatically update OLSConfig status conditions when deployments become ready.
# Status remains "False" with "Reconciling" message even after all deployments are available.
# The actual deployments are validated above which is what matters functionally.
#
# Workaround to force status update (if needed):
# kubectl annotate olsconfig cluster reconcile-trigger="$(date +%s)" --overwrite
#
# ---
# apiVersion: ols.openshift.io/v1alpha1
# kind: OLSConfig
# metadata:
#   name: cluster
# status:
#   (conditions[?type == 'ConsolePluginReady']):
#   - status: "True"
